<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FORTNITE SKIN BATTLE</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oxanium:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Oxanium', sans-serif;
      color: white;
      text-align: center;
      margin: 0;
      padding: 10px;
      background: #0a0a1a;
    }
    .player-bar {
      background: rgba(10,10,26,0.7);
      padding: 12px;
      border-radius: 12px;
      margin: 15px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.2em;
      border: 2px solid gold;
    }
    .nav-buttons {
      margin: 15px 0;
    }
    .nav-btn {
      background: rgba(78,205,196,0.2);
      color: white;
      border: 1px solid #4ecdc4;
      padding: 10px 18px;
      margin: 0 5px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    .nav-btn.active {
      background: #4ecdc4;
      color: #0a0a1a;
    }
    .view {
      display: none;
    }
    .view.active {
      display: block;
    }
    .collection-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      gap: 12px;
      margin: 20px auto;
      max-width: 600px;
    }
    .collection-card {
      background: rgba(20,20,40,0.8);
      border-radius: 10px;
      padding: 8px;
      position: relative;
      cursor: pointer;
      border: 2px solid #333;
    }
    .collection-card.locked {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .collection-card.locked::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.8em;
      color: #ff6b6b;
    }
    .collection-card img {
      width: 100%;
      border-radius: 6px;
    }
    .deck-section {
      background: rgba(10,10,26,0.6);
      padding: 15px;
      border-radius: 12px;
      margin: 20px 0;
      border: 1px solid #4ecdc4;
    }
    .deck-cards {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    .deck-card {
      width: 100px;
    }
    .deck-card img {
      width: 100%;
      border-radius: 8px;
    }
    .action-btn {
      background: #4ecdc4;
      color: #0a0a1a;
      border: none;
      padding: 12px 25px;
      font-size: 1.15em;
      font-weight: bold;
      border-radius: 50px;
      cursor: pointer;
      margin: 10px 5px;
    }
    .coming-soon {
      margin: 30px auto;
      max-width: 500px;
      background: rgba(0,0,0,0.4);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      border: 2px dashed gold;
    }
  </style>
</head>
<body>
  <h1>FORTNITE SKIN BATTLE</h1>
  
  <div class="player-bar">
    <div> <span id="playerName">Jugador</span></div>
    <div> <span id="trophyCount">0</span></div>
  </div>

  <div class="nav-buttons">
    <button class="nav-btn active" onclick="showView('battle')">锔 Batalla</button>
    <button class="nav-btn" onclick="showView('collection')"> Mazo</button>
    <button class="nav-btn" onclick="showView('ranking')"> Ranking</button>
  </div>

  <div id="battleView" class="view active">
    <button class="action-btn" onclick="startBattle()">锔 INICIAR BATALLA</button>
  </div>

  <div id="collectionView" class="view">
    <h2> MAZO - Elige 3 cartas</h2>
    <div class="collection-grid" id="collectionGrid"></div>
    
    <div class="deck-section">
      <h3>Tu Mazo Actual</h3>
      <div class="deck-cards" id="currentDeck"></div>
      <button class="action-btn" onclick="saveDeck()"> Guardar Mazo</button>
    </div>
  </div>

  <div id="rankingView" class="view">
    <h2> RANKING</h2>
    <div id="rankingList"></div>
  </div>

  <div class="coming-soon">
    <h3> 隆ACTUALIZACIN HOY! </h3>
    <p><strong>Hoy a las 15:00</strong></p>
    <p>隆Modo Multijugador + Perfil + Ranking!</p>
    <div id="updateTimer" style="font-size:1.3em; color:#4ecdc4; margin:10px 0; font-weight:bold;">00:00:00</div>
  </div>

  <script>
    // Inicializar nombre
    let playerName = localStorage.getItem('playerName');
    if (!playerName) {
      playerName = prompt("驴C贸mo te llamas?") || "Jugador";
      localStorage.setItem('playerName', playerName);
    }
    document.getElementById('playerName').innerText = playerName;

    // Cartas (9 desbloqueadas + 1 legendaria bloqueada)
    const CARDS = [
      { id:0, name:"Ram铆rez", img:"https://s93.erome.com/5472/K3IRZbxx/Y8DPmT76.jpeg?v=1764825894", unlocked: true },
      { id:1, name:"Azulita", img:"https://s93.erome.com/5472/K3IRZbxx/0B8OzReu.jpeg?v=1764815871", unlocked: true },
      { id:2, name:"Tormenta", img:"https://s93.erome.com/5472/K3IRZbxx/7GmdJa3U.jpeg?v=1764802552", unlocked: true },
      { id:3, name:"Fortaleza", img:"https://s93.erome.com/5472/K3IRZbxx/1FvcJ5u7.png?v=1764809177", unlocked: true },
      { id:4, name:"Danza", img:"https://s93.erome.com/5472/K3IRZbxx/0VxSvgAl.jpeg?v=1764818017", unlocked: true },
      { id:5, name:"Furia", img:"https://s93.erome.com/5472/K3IRZbxx/LsMURibY.jpeg?v=1764812622", unlocked: true },
      { id:6, name:"Escudera", img:"https://s93.erome.com/5472/K3IRZbxx/9RweIpam.jpeg?v=1764813677", unlocked: true },
      { id:7, name:"Asesina", img:"https://s206.erome.com/4699/lpRzYjBO/Z5Tc5k2v.jpeg?v=1745795818", unlocked: true },
      { id:8, name:"Guardiana", img:"https://s206.erome.com/4699/lpRzYjBO/P9p2wv5y.jpeg?v=1745795818", unlocked: true },
      { id:10, name:"Sellamara Gemelas", img:"https://s326.erome.com/5139/YBnb1NTO/R8jmYVqr.jpeg?v=1750357395", unlocked: false }
    ];

    let currentDeck = JSON.parse(localStorage.getItem('currentDeck')) || [0, 1, 2];
    let trophies = parseInt(localStorage.getItem('trophies')) || 0;
    document.getElementById('trophyCount').innerText = trophies;

    // Mostrar vista
    function showView(viewName) {
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      
      document.getElementById(viewName + 'View').classList.add('active');
      event.target.classList.add('active');
      
      if (viewName === 'collection') {
        renderCollection();
      } else if (viewName === 'ranking') {
        updateRanking();
      }
    }

    // Renderizar colecci贸n
    function renderCollection() {
      const grid = document.getElementById('collectionGrid');
      grid.innerHTML = '';
      
      CARDS.forEach(card => {
        const div = document.createElement('div');
        div.className = `collection-card ${!card.unlocked ? 'locked' : ''}`;
        div.innerHTML = `<img src="${card.img}" alt="${card.name}">`;
        
        if (card.unlocked) {
          div.onclick = () => alert(`Has seleccionado: ${card.name}`);
        }
        
        grid.appendChild(div);
      });
      
      const deck = document.getElementById('currentDeck');
      deck.innerHTML = '';
      currentDeck.forEach(id => {
        const card = CARDS.find(c => c.id === id);
        if (card) {
          const div = document.createElement('div');
          div.className = 'deck-card';
          div.innerHTML = `<img src="${card.img}" alt="${card.name}">`;
          deck.appendChild(div);
        }
      });
    }

    // Guardar mazo
    function saveDeck() {
      if (currentDeck.length !== 3) {
        alert('Necesitas 3 cartas');
        return;
      }
      localStorage.setItem('currentDeck', JSON.stringify(currentDeck));
      alert('隆Mazo guardado!');
    }

    // Ranking
    function updateRanking() {
      const rankings = JSON.parse(localStorage.getItem('rankings')) || [];
      const existing = rankings.find(r => r.name === playerName);
      if (existing) {
        existing.trophies = trophies;
      } else {
        rankings.push({ name: playerName, trophies });
      }
      rankings.sort((a, b) => b.trophies - a.trophies);
      localStorage.setItem('rankings', JSON.stringify(rankings));
      
      const list = document.getElementById('rankingList');
      list.innerHTML = '';
      rankings.slice(0, 10).forEach((r, i) => {
        const div = document.createElement('div');
        div.innerHTML = `${i+1}. ${r.name} - ${r.trophies} `;
        list.appendChild(div);
      });
    }

    // Batalla
    function startBattle() {
      alert('隆Batalla iniciada!\nLa IA tiene tus cartas + Sellamara Gemelas.\n隆La IA ataca primero!');
    }

    // Contador de actualizaci贸n
    function startUpdateCountdown() {
      function updateTimer() {
        const now = new Date();
        const target = new Date(now);
        target.setHours(15, 0, 0, 0); // Hoy a las 15:00
        if (now >= target) {
          document.getElementById('updateTimer').innerText = '隆Actualizaci贸n disponible!';
        } else {
          const diff = target - now;
          const hours = Math.floor(diff / (1000 * 60 * 60));
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);
          document.getElementById('updateTimer').innerText = 
            `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }
      }
      updateTimer();
      setInterval(updateTimer, 1000);
    }

    // Inicializar
    renderCollection();
    startUpdateCountdown();
  </script>
</body>
</html>
